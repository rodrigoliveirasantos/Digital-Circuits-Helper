<main class="py-9">
  <section>
    <div class="container mx-auto">
      <form 
        [formGroup]="expressionForm" 
        (ngSubmit)="handleFormSubmit()"
      >
        <label for="expression">
          <div class="mb-2 font-bold">
            Expressão booleana:
          </div>
        </label>

        <div class="flex items-center space-x-2">
          <input 
            app-input
            id="expression"
            name="expression"
            formControlName="expression"
            type="text"
            class="block w-full"
            placeholder="Ex: A + B . ~C ^ (D == E)" 
          />

          <button 
            app-button
            aria-label="Processar expressão" 
          >
            <lucide-icon [img]="submitBtnIcon" class="size-5" />
          </button>
        </div>

        @if (truthTableError(); as error) {
          <small>{{ error }}</small>
        }
      </form>
    </div>
  </section>

  @if (!(truthTableIsEmpty() || truthTableError())) {
    <section class="container mt-8 mx-auto">
      <table class="w-full">
        <thead>
          <tr>
            @for (head of truthTableHead(); track head) {
              <th 
                class="border font-bold"
                [class.bg-neutral-300]="!$last"
                [class.bg-orange-400]="$last"
              >{{ head }}</th>
            }
          </tr>
        </thead>
        <tbody>
          @for (row of truthTableBody(); track $index) {
            <tr>
              @for (bit of row; track $index) {
                <td class="border text-center">{{ bit }}</td>
              }
            </tr>
          }
        </tbody>
      </table>
    </section>
  }
</main>
